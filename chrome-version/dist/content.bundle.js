(()=>{"use strict";!function(){console.log("Ratings OK");let e=[];const t=document.querySelectorAll("div.list_livre:not(.hidden-by-script)");t&&t.forEach((e=>{const t=e.querySelector("div > div > div > div > h3"),o=e.querySelector("div > div > div > div > h3 > nobr > a");t&&(t.style.display="none",t.classList.add("processed-by-script")),o&&(o.style.display="none",o.classList.add("processed-by-script"))}));const o=document.querySelectorAll("span > div.entete_critique > div.entete_login > div"),r=document.querySelector("#page_corps > div > div:nth-child(3) > div.side_l > div.livre_con > div.col.col-8 > table > tbody > tr > td:nth-child(1) > nobr");o&&o.forEach((e=>{e.style.display="none",e.classList.add("processed-by-script")})),r&&(r.remove(),r.classList.add("processed-by-script"));const n=document.querySelectorAll('[id^="rateit-range-"]');n&&n.forEach((e=>{e.style.display="none",e.classList.add("processed-by-script")}));const c=document.querySelector("#page_corps > div > div:nth-child(3) > div.side_l > div.livre_con > div.col.col-8 > span:nth-child(7)"),s=document.querySelector("#page_corps > div > div:nth-child(3) > div.side_l > div.livre_con > div.col.col-8 > span:nth-child(3)");c&&e.push(c),s&&e.push(s);const i=document.querySelector("div.rateit");i&&e.push(i);const d=document.querySelector("#page_corps > div > div:nth-child(3) > div.side_l > div.livre_con > div.col.col-8 > span:nth-child(5)");d&&e.push(d);const l=document.querySelector("#page_corps > div > div:nth-child(3) > div.side_l > div:nth-child(9)");l&&e.push(l);const a=document.querySelector("#histogramme");a&&a.remove();const u=document.querySelectorAll("div.sgst_auteur_txt");u&&u.forEach((e=>{const t=e.querySelector("br");if(t){let e=t.nextSibling;for(;e;){const t=e.nextSibling;e.remove(),e=t}}}));for(let t=0;t<e.length;t++){const o=e[t];o&&(o.setAttribute("style","display: none !important; visibility: hidden !important;"),o.classList.add("hidden-by-script"))}}(),function(){console.log("Community OK");const e=document.querySelectorAll("span.qualite > span.post_items_like");e&&e.forEach((e=>{const t=e.querySelector('[id^="myspan"]');t&&(t.style.display="none",t.classList.add("processed-by-script"))}));const t=document.querySelectorAll("span.qualite > a");t&&t.forEach((e=>{const t=e.querySelector('[id^="myspan"]');t&&(t.style.display="none",t.classList.add("processed-by-script"))}));const o=document.querySelectorAll("div.side_r > div:nth-child(8) > div.liste.row > div > div > h3");o.length>0&&o.forEach((e=>{const t=e.querySelectorAll("strong");t.length>0&&t.forEach((e=>{e.remove()}));const o=e.querySelectorAll("span");o.length>0&&o.forEach((e=>{e.remove()}))}));const r=document.querySelectorAll("#page_corps > div > div > div.side_r > div > div > div.liste.row > div > div > h3 > span");r.length>0&&r.forEach((e=>{e.remove(),e.classList.add("processed-by-script")}));const n=document.querySelectorAll("div.fiche_lecteur > a");n.length>0&&n.forEach((e=>{e.childNodes.forEach((e=>{e.nodeType===Node.TEXT_NODE&&e.textContent.match(/\d+\s*critiques/)&&(e.textContent=e.textContent.replace(/\d+\s*critiques/,"").trim())}))}));const c=document.querySelectorAll("div > div > div > div.col-9.col > h3 > small");c&&c.forEach((e=>{e.remove()})),document.querySelectorAll("div > div > div > div > h3 > a").forEach((e=>{let t=e.nextSibling;for(;t&&(t.nodeType!==Node.TEXT_NODE||!t.nodeValue.trim());)t=t.nextSibling;t&&(console.log("Texte suivant :",t.nodeValue.trim()),t.remove())}));const s=document.querySelectorAll("div > div > div > a > table > tbody > tr > td > div > div > span");s&&s.forEach((e=>{e.remove()}));const i=document.querySelectorAll("div > div > div > a > table > tbody > tr > td > div > span > a");i&&i.forEach((e=>{e.remove()}));const d=document.querySelector("#page_corps > div > div.side_r > div > div.titre");d&&Array.from(d.childNodes).forEach((e=>{e.textContent=e.textContent.replace(/\(\d+\)/g,"")})),document.querySelectorAll("div.livre_refs").forEach((e=>{e.textContent.match(/^\d+\s*livres en commun/)&&e.remove()}));const l=document.querySelectorAll("div.gris");l.length>0&&l.forEach((e=>{e.textContent.match(/^\d+\s*livres/)&&(e.textContent=e.textContent.replace(/\s?\(\+\d+\)/,"").trim())}))}(),function(){console.log("platformMetrics OK");let e=[];const t=document.querySelector("#page_corps > div > div:nth-child(3) > div.livre_header.row > table > tbody > tr > td:nth-child(2) > div > div");t&&t.querySelectorAll("a").forEach((t=>{e.push(t)}));const o=Array.from(document.querySelectorAll("#page_corps > div > div.livre_header.row > div > div")).find((e=>e.textContent.includes("Livres")));o&&Array.from(o.childNodes).forEach((e=>{e.textContent=e.textContent.replace(/\(\d+\)/g,"")}));const r=document.querySelector("#critiques");r&&e.push(r);const n=document.querySelector("#critiques_presse");n&&e.push(n);const c=document.querySelector("#citations");c&&e.push(c);const s=document.querySelector("div.side_r");if(s){const e=new MutationObserver((()=>{const t=Array.from(s.querySelectorAll("div.titre")).find((e=>e.textContent.includes("Lecteurs")));t&&(t.childNodes.forEach((e=>{e.nodeType===Node.TEXT_NODE&&e.textContent.includes("Lecteurs")&&(e.textContent=e.textContent.replace(/\(\d+\)/g,""))})),e.disconnect())}));e.observe(s,{childList:!0,subtree:!0})}const i=document.querySelectorAll(".side_l h3 nobr a");i&&i.forEach((e=>{e.style.display="none",e.classList.add("processed-by-script")})),e.forEach((e=>{e.childNodes.forEach((e=>{e.nodeType===Node.TEXT_NODE&&(e.textContent=e.textContent.replace(/\s*\(.*?\)\s*/g,""))}))}))}(),function(){console.log("Commercial OK");const e=document.querySelector("#page_corps > div > div:nth-child(3) > div.side_r > div:nth-child(2)"),t=document.querySelector(".no-desktop");function o(e){new MutationObserver((()=>{e&&e.remove()})).observe(document.body,{childList:!0,subtree:!0})}o(e),o(t);const r=document.querySelector("#page_corps > div > div:nth-child(3) > div.side_r > div > div:nth-child(2)");r&&(r.remove(),r.classList.add("hidden-by-script"))}(),function(){console.log("userMetrics OK");const e=document.querySelector("#page_corps > div > div.livre_header.row > div > div > a:nth-child(4)");e&&"Statistiques"==e.textContent&&e.remove();const t=document.querySelector("#page_corps > div > div.side_r > div > div:nth-child(7)"),o=document.querySelector("div.side_r_content");if(t&&t.textContent.includes("insignes")){t.remove();const e=o.querySelectorAll("div.sep");e.length>1&&e[1].remove()}if(o)o.remove();else{const e=document.querySelectorAll("div.sep");e.length>1&&e[1].remove()}document.querySelectorAll("#page_corps > div > div.side_l > div > div.liste_fiches > div")&&document.querySelectorAll("a > div > p").forEach((e=>{e.remove()}));const r=document.querySelectorAll("#form-test > div.mes_livres > div.mes_livres_con > table > tbody > tr > td.titre_livre > a.titre_livre_elements");r.length>0&&r.forEach((e=>{e.remove()}));const n=document.querySelectorAll("#form-test > div.mes_livres > div.mes_livres_con > table > tbody > tr > td.lecteurs"),c=document.querySelector("#form-test > div.mes_livres > div.mes_livres_con > table > thead > tr > th:nth-child(8)");c&&c.remove(),n&&n.forEach((e=>{const t=e.querySelector("a");t&&t.remove()}));const s=document.querySelectorAll("div.styled-select");s.length>0&&s.forEach((e=>{e.textContent.includes("Note")&&e.remove()}));const i=document.getElementsByClassName("titre");i&&new MutationObserver((()=>{const e=Array.from(i).find((e=>e.textContent.includes("déserte"))),t=Array.from(i).find((e=>e.textContent.includes("En train"))),o=Array.from(i).find((e=>e.textContent.includes("Groupes")));function r(e){e&&e.childNodes.forEach((e=>{e.nodeType===Node.TEXT_NODE&&/\(\d+\)/.test(e.textContent)&&(e.textContent=e.textContent.replace(/\s*\(\d+\)/g,""))}))}r(e),r(t),r(o)})).observe(document.body,{childList:!0,subtree:!0})}(),function(){console.log("sideMetrics OK");const e=new MutationObserver((()=>{var t=document.querySelector(".actualites_side_item");if(t){const e=document.querySelector("a.actualites_side_item > font");if(e){let o=parseInt(e.textContent.trim(),10),r="Vous n'avez pas de message";1===o?r="Vous avez un message":o>1?r="Vous avez des messages":0===o&&(r="Vous n'avez pas de message"),e.remove(),t.innerHTML=t.innerHTML.replace("Message(s)",r)}}const o=document.querySelectorAll('a[href="/abonnes"]'),r=document.querySelectorAll('a[href="/abonnements"]');o&&o.forEach((function(e){e.remove()})),r&&r.forEach((function(e){e.remove()}));const n=document.getElementsByClassName("side_stats");n&&Array.from(n).forEach((e=>{e.remove()}));const c=document.getElementsByClassName("contribution_progress");c&&Array.from(c).forEach((e=>{e.remove()}));const s=document.getElementsByClassName("contribution_legend");s&&Array.from(s).forEach((e=>{e.remove()}));const i=document.getElementsByClassName("side_r_content");i&&Array.from(i).forEach((e=>{(e.textContent.includes("Contributions appréciées")||e.textContent.includes("Notez vos lectures"))&&e.remove()})),e.disconnect()}));e.observe(document.body,{childList:!0,subtree:!0})}(),console.log("Content script is running!")})();